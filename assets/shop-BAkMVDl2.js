import{j as u,m as R,c as v,o as c,a as t,w as o,E as r,K as d,Y as N,A as H,u as O,v as b,a0 as X,aH as Z,H as n,a4 as j,g as ee,a8 as F,I as G,J as k,a3 as te,T as J,y as ae,av as oe,k as L,f as re,R as x,S as g,a9 as se,a1 as le,aI as ne,d as ie,F as V,h as I,e as de,ar as ce,aJ as E,aK as ue,at as U,aL as me,aM as pe,D as fe,P as ge}from"./index-oVSc4Kt2.js";import{g as B,S as ve}from"./ScrollTrigger-CUwdeFQJ.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{p as ye}from"./product-B-a2ZQg_.js";import{b as M}from"./route-block-B_A1xBdJ.js";const _e=""+new URL("dog-face-BvL0_U8h.jpg",import.meta.url).href,he={class:"hero-text"},xe={class:"text-h2 font-weight-bold"},Ve={class:"text-h5 font-weight-bold"},be={__name:"HeroSection",props:{imageSrc:{type:String,required:!0},title:{type:String,default:"å…¬ç›Šå•†åŸ"},subtitle:{type:String,default:"æ¯æœˆèˆ‡ä¸åŒå–®ä½åˆä½œæ‚¨ä¸‹çš„ä¸€ç­†è¨‚å–®èƒ½è®“æ¯›å­©å€‘å¤šä¸€ä»½æº«é£½"}},setup(i){const m=u(null);return R(()=>{B.registerPlugin(ve);const l=m.value;B.fromTo(l,{scale:1,y:0},{scale:.5,y:-200,transformOrigin:"top center",scrollTrigger:{trigger:l,start:"top top",end:"bottom top",scrub:!0,pin:!0,pinSpacing:!1}})}),(l,f)=>(c(),v("div",{ref_key:"heroSection",ref:m,class:"hero-section"},[t(N,{class:"hero-img",cover:"",src:i.imageSrc},{default:o(()=>[r("div",he,[r("h1",xe,d(i.title),1),r("p",Ve,d(i.subtitle),1)])]),_:1},8,["src"])],512))}},ke=D(be,[["__scopeId","data-v-a1cca34e"]]),Se={class:"text-h6 font-weight-bold text-secondary my-2"},Ce={class:"text-body-2 product-description"},we={__name:"ProductCard",props:{_id:{type:String,required:!0},image:{type:String,required:!0},name:{type:String,required:!0},category:{type:String,required:!0},price:{type:Number,required:!0},description:{type:String,required:!0}},emits:["add-to-cart"],setup(i,{emit:m}){const l=i,f=m,S=H();O();const C=()=>{f("add-to-cart",l._id)},w=()=>{S.push("/product/"+l._id)};return(T,y)=>(c(),b(J,{class:"d-flex flex-column product-card",height:"100%",hover:"",name:"",onClick:w},{default:o(()=>[t(N,{class:"text-white align-end",cover:"",height:"450",src:i.image},{default:o(()=>[t(X,{color:"rgba(0, 0, 0, 0.4)",theme:"dark"},{default:o(()=>[t(Z,{class:"text-body-1 font-weight-bold"},{default:o(()=>[n(d(i.name),1)]),_:1})]),_:1})]),_:1},8,["src"]),t(j,{class:"pt-4 flex-grow-1"},{default:o(()=>[r("div",Se," NT$ "+d(i.price.toLocaleString()),1),r("div",Ce,d(i.description),1)]),_:1}),t(ee),t(F,{class:"pa-3"},{default:o(()=>[t(G),t(k,{color:"secondary","prepend-icon":"mdi-cart-plus",text:"åŠ å…¥è³¼ç‰©è»Š",variant:"tonal",onClick:te(C,["prevent"])})]),_:1})]),_:1}))}},Te=D(we,[["__scopeId","data-v-b1f50a8d"]]),Pe={class:"announcement-fab-container"},$e={class:"mb-4 text-h5 text-md-h4 font-weight-bold"},Ae={class:"text-secondary"},Le={class:"text-medium-emphasis mb-0"},q=12,K={__name:"shop",setup(i){const m=u({name:"æµªæµªç‹—ç‹—ä¹‹å®¶",description:"è‡´åŠ›æ–¼æ•‘æ´èˆ‡ç…§é¡§æµæµªå‹•ç‰©"}),l=u(!1),f=ae(),S=O(),{isLogin:C}=oe(S),w=H(),T=u([]),y=L(()=>T.value.filter(s=>{const a=s.name.toLowerCase().includes(P.value.toLowerCase()),e=_.value?s.category===_.value:!0;return a&&e}).sort((s,a)=>{const e=A[$.value];return e.key==="createdAt"||e.key==="updatedAt"?e.direction*(new Date(s[e.key])-new Date(a[e.key])):e.direction*(s[e.key]>a[e.key]?1:-1)})),p=u(1),z=L(()=>Math.ceil(y.value.length/q)),W=L(()=>y.value.slice((p.value-1)*q,p.value*q)),P=u(""),_=u(""),Y=["è²“ç”¨","çŠ¬ç”¨"],$=u(0),A=[{text:"åç¨±",key:"name",direction:1},{text:"åƒ¹æ ¼ï¼šä½åˆ°é«˜",key:"price",direction:1},{text:"åƒ¹æ ¼ï¼šé«˜åˆ°ä½",key:"price",direction:-1},{text:"æœ€æ–°å•†å“",key:"createdAt",direction:-1},{text:"æœ€èˆŠå•†å“",key:"createdAt",direction:1}];(async()=>{try{const{data:s}=await ye.get();T.value=s.products}catch(s){console.error("Error fetching products:",s),f({text:"ç„¡æ³•è¼‰å…¥å•†å“è³‡æ–™",snackbarProps:{color:"red"}})}})();const Q=async s=>{var a,e;if(!C.value){w.push("/auth");return}try{await ge.cart({product:s,quantity:1}),f({text:"å·²åŠ å…¥è³¼ç‰©è»Š",snackbarProps:{color:"success"}})}catch(h){f({text:((e=(a=h.response)==null?void 0:a.data)==null?void 0:e.message)||"åŠ å…¥è³¼ç‰©è»Šå¤±æ•—",snackbarProps:{color:"red"}})}};return R(()=>{window.scrollTo(0,0)}),(s,a)=>(c(),v(V,null,[t(ke,{"image-src":re(_e),subtitle:"æ¯æœˆèˆ‡ä¸åŒå–®ä½åˆä½œæ‚¨ä¸‹çš„ä¸€ç­†è¨‚å–®èƒ½è®“æ¯›å­©å€‘å¤šä¸€ä»½æº«é£½",title:"å…¬ç›Šå•†åŸ"},null,8,["image-src"]),r("div",Pe,[a[8]||(a[8]=r("div",{class:"fab-tip"},"é»æ“ŠæŸ¥çœ‹æœ¬æœˆåˆä½œå–®ä½",-1)),t(k,{class:"announcement-fab",color:"#EDA35A",elevation:"8",icon:"mdi-bullhorn-outline",size:"x-large",onClick:a[0]||(a[0]=e=>l.value=!0)})]),t(se,{modelValue:l.value,"onUpdate:modelValue":a[2]||(a[2]=e=>l.value=e),"max-width":"800px"},{default:o(()=>[t(J,{class:"announcement-card-dialog"},{default:o(()=>[t(j,{class:"pa-8"},{default:o(()=>[t(x,{align:"center","no-gutters":"",justify:"center"},{default:o(()=>[t(g,{cols:"12",sm:"9"},{default:o(()=>[r("h2",$e,[a[9]||(a[9]=n("ğŸ’ æœ¬æœˆå•†å“å°‡æè´ˆçµ¦ ",-1)),r("strong",Ae,d(m.value.name),1)]),a[10]||(a[10]=r("p",{class:"text-body-1"},[n(" åœ¨æœ¬è³£å ´æ¶ˆè²»ä¹‹å•†å“éƒ½æœƒæè´ˆèˆ‡è©²æœˆåˆä½œå–®ä½ï¼Œæ¯æœˆåˆä½œå°è±¡ä»¥å…¬å‘Šå–®ä½ç‚ºæº–ã€‚"),r("br"),n(" é€™æ˜¯ä¸€å€‹è®“æ„›ä¸æµæµªçš„æ©Ÿæœƒã€‚æ‚¨çš„æ¯ä¸€ç­†æ¶ˆè²»ï¼Œéƒ½å°‡ç›´æ¥è½‰åŒ–ç‚ºæµªæµªå€‘çš„ä¼™é£Ÿã€é†«ç™‚èˆ‡æ£²èº«ä¹‹æ‰€ã€‚è®“ç‰ å€‘ä¸å†æ–¼è¡—é ­æµæµªï¼Œè€Œæ˜¯èƒ½æ“æœ‰ä¸€å€‹å……æ»¿æ„›èˆ‡å¸Œæœ›çš„å®¶ã€‚"),r("br"),n(" è®“æˆ‘å€‘ä¸€èµ·ï¼Œç”¨è¡Œå‹•ä¾†æ”¯æŒé€™äº›ç„¡åŠ©çš„ç”Ÿå‘½ã€‚æ‚¨çš„æ¶ˆè²»ï¼Œæ˜¯æµªæµªå€‘é‡ç²æ–°ç”Ÿçš„å¸Œæœ›ã€‚"),r("br"),n(" æ„Ÿè¬æ‚¨çš„æ¯ä¸€æ¬¡å–„èˆ‰ï¼Œè®“æ„›çš„åŠ›é‡ï¼Œåœ¨æˆ‘å€‘çš„ä¸–ç•Œè£¡å¾ªç’°ä¸æ¯ã€‚"),r("br")],-1)),r("p",Le,d(m.value.description),1)]),_:1,__:[10]})]),_:1})]),_:1}),t(F,{class:"pa-4"},{default:o(()=>[t(G),t(k,{color:"secondary",variant:"text",onClick:a[1]||(a[1]=e=>l.value=!1)},{default:o(()=>a[11]||(a[11]=[n(" æˆ‘çŸ¥é“äº† ",-1)])),_:1,__:[11]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(fe,{class:"my-8 custom-container"},{default:o(()=>[t(x,{align:"center"},{default:o(()=>[t(g,{cols:"12",md:"10"},{default:o(()=>[t(le,{modelValue:P.value,"onUpdate:modelValue":[a[3]||(a[3]=e=>P.value=e),a[4]||(a[4]=e=>p.value=1)],clearable:"",density:"compact",flat:"","hide-details":"",placeholder:"æœå°‹å•†å“","prepend-inner-icon":"mdi-magnify",variant:"solo-filled"},null,8,["modelValue"])]),_:1}),t(ne,null,{activator:o(({props:e})=>[t(k,E(e,{"append-icon":"mdi-chevron-down",ripple:!1,variant:"text"}),{default:o(()=>[n(d(A[$.value].text),1)]),_:2},1040)]),default:o(()=>[t(ie,null,{default:o(()=>[(c(),v(V,null,I(A,(e,h)=>t(de,{key:e.text,onClick:qe=>{$.value=h,p.value=1}},{default:o(()=>[t(ce,null,{default:o(()=>[n(d(e.text),1)]),_:2},1024)]),_:2},1032,["onClick"])),64))]),_:1})]),_:1})]),_:1}),t(g,{cols:"12",md:"4"},{default:o(()=>[t(ue,{modelValue:_.value,"onUpdate:modelValue":[a[5]||(a[5]=e=>_.value=e),a[6]||(a[6]=e=>p.value=1)],mandatory:"","selected-class":"text-secondary"},{default:o(()=>[t(U,{filter:"",value:"",variant:"outlined"},{default:o(()=>a[12]||(a[12]=[n(" å…¨éƒ¨ ",-1)])),_:1,__:[12]}),(c(),v(V,null,I(Y,e=>t(U,{key:e,filter:"",value:e,variant:"outlined"},{default:o(()=>[n(d(e),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),_:1}),y.value.length>0?(c(),b(x,{key:0},{default:o(()=>[(c(!0),v(V,null,I(W.value,e=>(c(),b(g,{key:e._id,cols:"12",lg:"4",md:"6"},{default:o(()=>[t(Te,E({ref_for:!0},e,{onAddToCart:h=>Q(e._id)}),null,16,["onAddToCart"])]),_:2},1024))),128)),t(g,{cols:"12"},{default:o(()=>[t(me,{modelValue:p.value,"onUpdate:modelValue":a[7]||(a[7]=e=>p.value=e),circle:"",length:z.value,"total-visible":5},null,8,["modelValue","length"])]),_:1})]),_:1})):(c(),b(x,{key:1},{default:o(()=>[t(g,{cols:"12"},{default:o(()=>[t(pe,{headline:"å™¢ï¼æ‰¾ä¸åˆ°å•†å“",icon:"mdi-magnify-remove-outline",text:"è©¦è©¦çœ‹æ›´æ›ç¯©é¸æ¢ä»¶æˆ–é—œéµå­—å§ï¼",title:"ç„¡ç¬¦åˆæ¢ä»¶çš„å•†å“"})]),_:1})]),_:1}))]),_:1})],64))}};typeof M=="function"&&M(K);const Re=D(K,[["__scopeId","data-v-c91909b8"]]);export{Re as default};
