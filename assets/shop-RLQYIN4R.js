import{g as C,S as O}from"./ScrollTrigger-CUwdeFQJ.js";import{j as d,m as F,c as _,o as u,a as t,w as o,C as r,I as c,W as G,y as H,u as q,q as k,_ as te,aF as ae,E as l,a2 as j,g as z,a6 as W,G as J,H as S,a1 as oe,R as K,v as se,at as re,k as L,aG as le,f as ne,P as b,Q as p,S as ie,a7 as ce,aH as de,ar as R,F as V,h as U,$ as ue,aI as me,d as fe,e as pe,ap as ge,aJ as M,aK as ve,aL as _e,B as ye,N as xe}from"./index-C0OniE_k.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{p as he}from"./product-Ousba0Ko.js";import{b as N}from"./route-block-B_A1xBdJ.js";const be=""+new URL("dog-face-BvL0_U8h.jpg",import.meta.url).href,Ve={class:"hero-text"},ke={class:"text-h2 font-weight-bold"},Se={class:"text-h5 font-weight-bold"},Ce={__name:"HeroSection",props:{imageSrc:{type:String,required:!0},title:{type:String,default:"å…¬ç›Šå•†åŸ"},subtitle:{type:String,default:"æ¯æœˆèˆ‡ä¸åŒå–®ä½åˆä½œæ‚¨ä¸‹çš„ä¸€ç­†è¨‚å–®èƒ½è®“æ¯›å­©å€‘å¤šä¸€ä»½æº«é£½"}},setup(n){const m=d(null);return F(()=>{C.registerPlugin(O);const i=m.value;C.fromTo(i,{scale:1,y:0},{scale:.5,y:-200,transformOrigin:"top center",scrollTrigger:{trigger:i,start:"top top",end:"bottom top",scrub:!0,pin:!0,pinSpacing:!1}})}),(i,y)=>(u(),_("div",{ref_key:"heroSection",ref:m,class:"hero-section"},[t(G,{class:"hero-img",cover:"",src:n.imageSrc},{default:o(()=>[r("div",Ve,[r("h1",ke,c(n.title),1),r("p",Se,c(n.subtitle),1)])]),_:1},8,["src"])],512))}},Te=B(Ce,[["__scopeId","data-v-8cd66faa"]]),we={class:"text-h6 font-weight-bold text-secondary my-2"},Pe={class:"text-body-2 product-description"},$e={__name:"ProductCard",props:["_id","image","name","category","price","description"],emits:["add-to-cart"],setup(n,{emit:m}){const i=n,y=m,g=H();q();const T=()=>{y("add-to-cart")},w=()=>{g.push("/product/"+i._id)};return(D,P)=>(u(),k(K,{class:"d-flex flex-column product-card",height:"100%",hover:"",name:"",onClick:w},{default:o(()=>[t(G,{class:"text-white align-end",cover:"",height:"450",src:n.image},{default:o(()=>[t(te,{color:"rgba(0, 0, 0, 0.4)",theme:"dark"},{default:o(()=>[t(ae,{class:"text-body-1 font-weight-bold"},{default:o(()=>[l(c(n.name),1)]),_:1})]),_:1})]),_:1},8,["src"]),t(j,{class:"pt-4 flex-grow-1"},{default:o(()=>[r("div",we," NT$ "+c(n.price.toLocaleString()),1),r("div",Pe,c(n.description),1)]),_:1}),t(z),t(W,{class:"pa-3"},{default:o(()=>[t(J),t(S,{color:"secondary","prepend-icon":"mdi-cart-plus",text:"åŠ å…¥è³¼ç‰©è»Š",variant:"tonal",onClick:oe(T,["prevent"])})]),_:1})]),_:1}))}},Ae=B($e,[["__scopeId","data-v-f3898a6b"]]),Ie={class:"announcement-fab-container"},Le={class:"mb-4 text-h5 text-md-h4 font-weight-bold"},Ue={class:"text-secondary"},Ee={class:"text-medium-emphasis mb-0"},E=9,Q={__name:"shop",setup(n){const m=d({name:"æµªæµªç‹—ç‹—ä¹‹å®¶",description:"è‡´åŠ›æ–¼æ•‘æ´èˆ‡ç…§é¡§æµæµªå‹•ç‰©"}),i=d(!1),y=d(null),g=se(),T=q(),{isLogin:w}=re(T),D=H(),P=d([]),$=L(()=>P.value.filter(s=>{const a=s.name.toLowerCase().includes(A.value.toLowerCase()),e=x.value?s.category===x.value:!0;return a&&e}).sort((s,a)=>{const e=I[h.value];return e.key==="createdAt"||e.key==="updatedAt"?e.direction*(new Date(s[e.key])-new Date(a[e.key])):e.direction*(s[e.key]>a[e.key]?1:-1)})),f=d(1),X=L(()=>Math.ceil($.value.length/E)),Y=L(()=>$.value.slice((f.value-1)*E,f.value*E)),A=d(""),x=d(""),Z=["è²“ç”¨","çŠ¬ç”¨"],h=d(0),I=[{text:"åç¨±",key:"name",direction:1},{text:"åƒ¹æ ¼ï¼šä½åˆ°é«˜",key:"price",direction:1},{text:"åƒ¹æ ¼ï¼šé«˜åˆ°ä½",key:"price",direction:-1},{text:"æœ€æ–°å•†å“",key:"createdAt",direction:-1},{text:"æœ€èˆŠå•†å“",key:"createdAt",direction:1}];(async()=>{try{const{data:s}=await he.get();P.value=s.products}catch(s){console.error("Error fetching products:",s),g({text:"ç„¡æ³•è¼‰å…¥å•†å“è³‡æ–™",snackbarProps:{color:"red"}})}})();const ee=async s=>{var a,e;if(!w.value){D.push("/auth");return}try{await xe.cart({product:s,quantity:1}),g({text:"å·²åŠ å…¥è³¼ç‰©è»Š",snackbarProps:{color:"success"}})}catch(v){g({text:((e=(a=v.response)==null?void 0:a.data)==null?void 0:e.message)||"åŠ å…¥è³¼ç‰©è»Šå¤±æ•—",snackbarProps:{color:"red"}})}};return C.registerPlugin(O),F(()=>{window.scrollTo(0,0);const s=y.value,a=C.fromTo(s,{scale:1,y:0},{scale:.5,y:-200,transformOrigin:"top center",scrollTrigger:{trigger:s,start:"top top",end:"bottom top",scrub:!0,pin:!0,pinSpacing:!1}});le(()=>{var e;(e=a.scrollTrigger)==null||e.kill()})}),(s,a)=>(u(),_(V,null,[t(Te,{"image-src":ne(be),subtitle:"æ¯æœˆèˆ‡ä¸åŒå–®ä½åˆä½œæ‚¨ä¸‹çš„ä¸€ç­†è¨‚å–®èƒ½è®“æ¯›å­©å€‘å¤šä¸€ä»½æº«é£½",title:"å…¬ç›Šå•†åŸ"},null,8,["image-src"]),r("div",Ie,[a[8]||(a[8]=r("div",{class:"fab-tip"},"é»æ“ŠæŸ¥çœ‹æœ¬æœˆåˆä½œå–®ä½",-1)),t(S,{class:"announcement-fab",color:"#EDA35A",elevation:"8",icon:"mdi-bullhorn-outline",size:"x-large",onClick:a[0]||(a[0]=e=>i.value=!0)})]),t(ce,{modelValue:i.value,"onUpdate:modelValue":a[2]||(a[2]=e=>i.value=e),"max-width":"800px"},{default:o(()=>[t(K,{class:"announcement-card-dialog"},{default:o(()=>[t(j,{class:"pa-8"},{default:o(()=>[t(b,{align:"center","no-gutters":""},{default:o(()=>[t(p,{class:"text-center mb-4 mb-sm-0",cols:"12",sm:"3"},{default:o(()=>[t(ie,{color:"secondary",size:"80"},{default:o(()=>a[9]||(a[9]=[l("mdi-bullhorn",-1)])),_:1,__:[9]})]),_:1}),t(p,{cols:"12",sm:"9"},{default:o(()=>[r("h2",Le,[a[10]||(a[10]=l("ğŸ’ æœ¬æœˆå•†å“å°‡æè´ˆçµ¦ ",-1)),r("strong",Ue,c(m.value.name),1)]),a[11]||(a[11]=r("p",{class:"text-body-1"},[l(" åœ¨æœ¬è³£å ´æ¶ˆè²»ä¹‹å•†å“éƒ½æœƒæè´ˆèˆ‡è©²æœˆåˆä½œå–®ä½ï¼Œæ¯æœˆåˆä½œå°è±¡ä»¥å…¬å‘Šå–®ä½ç‚ºæº–ã€‚"),r("br"),l(" é€™æ˜¯ä¸€å€‹è®“æ„›ä¸æµæµªçš„æ©Ÿæœƒã€‚æ‚¨çš„æ¯ä¸€ç­†æ¶ˆè²»ï¼Œéƒ½å°‡ç›´æ¥è½‰åŒ–ç‚ºæµªæµªå€‘çš„ä¼™é£Ÿã€é†«ç™‚èˆ‡æ£²èº«ä¹‹æ‰€ã€‚è®“ç‰ å€‘ä¸å†æ–¼è¡—é ­æµæµªï¼Œè€Œæ˜¯èƒ½æ“æœ‰ä¸€å€‹å……æ»¿æ„›èˆ‡å¸Œæœ›çš„å®¶ã€‚"),r("br"),l(" è®“æˆ‘å€‘ä¸€èµ·ï¼Œç”¨è¡Œå‹•ä¾†æ”¯æŒé€™äº›ç„¡åŠ©çš„ç”Ÿå‘½ã€‚æ‚¨çš„æ¶ˆè²»ï¼Œæ˜¯æµªæµªå€‘é‡ç²æ–°ç”Ÿçš„å¸Œæœ›ã€‚"),r("br"),l(" æ„Ÿè¬æ‚¨çš„æ¯ä¸€æ¬¡å–„èˆ‰ï¼Œè®“æ„›çš„åŠ›é‡ï¼Œåœ¨æˆ‘å€‘çš„ä¸–ç•Œè£¡å¾ªç’°ä¸æ¯ã€‚"),r("br")],-1)),r("p",Ee,c(m.value.description),1)]),_:1,__:[11]})]),_:1})]),_:1}),t(W,{class:"pa-4"},{default:o(()=>[t(J),t(S,{color:"secondary",variant:"text",onClick:a[1]||(a[1]=e=>i.value=!1)},{default:o(()=>a[12]||(a[12]=[l(" æˆ‘çŸ¥é“äº† ",-1)])),_:1,__:[12]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(ye,{class:"my-8 custom-container"},{default:o(()=>[t(b,{align:"center",class:"mb-4"},{default:o(()=>[t(p,{cols:"12",md:"8"},{default:o(()=>[t(de,{modelValue:x.value,"onUpdate:modelValue":[a[3]||(a[3]=e=>x.value=e),a[4]||(a[4]=e=>f.value=1)],mandatory:"","selected-class":"text-secondary"},{default:o(()=>[t(R,{filter:"",value:"",variant:"outlined"},{default:o(()=>a[13]||(a[13]=[l(" å…¨éƒ¨ ",-1)])),_:1,__:[13]}),(u(),_(V,null,U(Z,e=>t(R,{key:e,filter:"",value:e,variant:"outlined"},{default:o(()=>[l(c(e),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),_:1}),t(p,{class:"d-flex align-center",cols:"12",md:"4"},{default:o(()=>[t(ue,{modelValue:A.value,"onUpdate:modelValue":[a[5]||(a[5]=e=>A.value=e),a[6]||(a[6]=e=>f.value=1)],class:"mr-2",clearable:"",density:"compact",flat:"","hide-details":"",placeholder:"æœå°‹å•†å“","prepend-inner-icon":"mdi-magnify",variant:"solo-filled"},null,8,["modelValue"]),t(me,null,{activator:o(({props:e})=>[t(S,M(e,{icon:"mdi-sort",ripple:!1,variant:"text"}),null,16),l(" "+c(I[h.value].text),1)]),default:o(()=>[t(fe,null,{default:o(()=>[(u(),_(V,null,U(I,(e,v)=>t(pe,{key:e.text,active:h.value===v,onClick:De=>{h.value=v,f.value=1}},{default:o(()=>[t(ge,null,{default:o(()=>[l(c(e.text),1)]),_:2},1024)]),_:2},1032,["active","onClick"])),64))]),_:1})]),_:1})]),_:1})]),_:1}),t(z,{class:"mb-8"}),$.value.length>0?(u(),k(b,{key:0},{default:o(()=>[(u(!0),_(V,null,U(Y.value,e=>(u(),k(p,{key:e._id,cols:"12",lg:"4",md:"6"},{default:o(()=>[t(Ae,M({ref_for:!0},e,{onAddToCart:v=>ee(e._id)}),null,16,["onAddToCart"])]),_:2},1024))),128)),t(p,{cols:"12"},{default:o(()=>[t(ve,{modelValue:f.value,"onUpdate:modelValue":a[7]||(a[7]=e=>f.value=e),circle:"",length:X.value,"total-visible":5},null,8,["modelValue","length"])]),_:1})]),_:1})):(u(),k(b,{key:1},{default:o(()=>[t(p,{cols:"12"},{default:o(()=>[t(_e,{headline:"å™¢ï¼æ‰¾ä¸åˆ°å•†å“",icon:"mdi-magnify-remove-outline",text:"è©¦è©¦çœ‹æ›´æ›ç¯©é¸æ¢ä»¶æˆ–é—œéµå­—å§ï¼",title:"ç„¡ç¬¦åˆæ¢ä»¶çš„å•†å“"})]),_:1})]),_:1}))]),_:1})],64))}};typeof N=="function"&&N(Q);const Ge=B(Q,[["__scopeId","data-v-1cebfc7c"]]);export{Ge as default};
