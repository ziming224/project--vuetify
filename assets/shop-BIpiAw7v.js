import{j as u,m as R,c as y,o as d,a as t,w as r,E as o,K as c,Y as N,A as H,u as O,v as k,a0 as Z,aH as ee,H as n,a4 as j,g as F,a8 as G,I as J,J as S,a3 as te,T as K,y as ae,av as re,k as L,f as oe,R as b,S as g,a9 as se,aI as le,at as E,F as V,h as I,a1 as ne,aJ as ie,d as ce,e as de,ar as ue,aK as U,aL as me,aM as fe,D as pe,P as ge}from"./index-BUE9pJ4F.js";import{g as B,S as ve}from"./ScrollTrigger-CUwdeFQJ.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{p as ye}from"./product-BKLBj3KS.js";import{b as M}from"./route-block-B_A1xBdJ.js";const _e=""+new URL("dog-face-BvL0_U8h.jpg",import.meta.url).href,xe={class:"hero-text"},he={class:"text-h2 font-weight-bold"},be={class:"text-h5 font-weight-bold"},Ve={__name:"HeroSection",props:{imageSrc:{type:String,required:!0},title:{type:String,default:"å…¬ç›Šå•†åŸ"},subtitle:{type:String,default:"æ¯æœˆèˆ‡ä¸åŒå–®ä½åˆä½œæ‚¨ä¸‹çš„ä¸€ç­†è¨‚å–®èƒ½è®“æ¯›å­©å€‘å¤šä¸€ä»½æº«é£½"}},setup(i){const m=u(null);return R(()=>{B.registerPlugin(ve);const l=m.value;B.fromTo(l,{scale:1,y:0},{scale:.5,y:-200,transformOrigin:"top center",scrollTrigger:{trigger:l,start:"top top",end:"bottom top",scrub:!0,pin:!0,pinSpacing:!1}})}),(l,p)=>(d(),y("div",{ref_key:"heroSection",ref:m,class:"hero-section"},[t(N,{class:"hero-img",cover:"",src:i.imageSrc},{default:r(()=>[o("div",xe,[o("h1",he,c(i.title),1),o("p",be,c(i.subtitle),1)])]),_:1},8,["src"])],512))}},ke=D(Ve,[["__scopeId","data-v-a1cca34e"]]),Se={class:"text-h6 font-weight-bold text-secondary my-2"},Ce={class:"text-body-2 product-description"},we={__name:"ProductCard",props:{_id:{type:String,required:!0},image:{type:String,required:!0},name:{type:String,required:!0},category:{type:String,required:!0},price:{type:Number,required:!0},description:{type:String,required:!0}},emits:["add-to-cart"],setup(i,{emit:m}){const l=i,p=m,C=H();O();const w=()=>{p("add-to-cart",l._id)},T=()=>{C.push("/product/"+l._id)};return(P,_)=>(d(),k(K,{class:"d-flex flex-column product-card",height:"100%",hover:"",name:"",onClick:T},{default:r(()=>[t(N,{class:"text-white align-end",cover:"",height:"450",src:i.image},{default:r(()=>[t(Z,{color:"rgba(0, 0, 0, 0.4)",theme:"dark"},{default:r(()=>[t(ee,{class:"text-body-1 font-weight-bold"},{default:r(()=>[n(c(i.name),1)]),_:1})]),_:1})]),_:1},8,["src"]),t(j,{class:"pt-4 flex-grow-1"},{default:r(()=>[o("div",Se," NT$ "+c(i.price.toLocaleString()),1),o("div",Ce,c(i.description),1)]),_:1}),t(F),t(G,{class:"pa-3"},{default:r(()=>[t(J),t(S,{color:"secondary","prepend-icon":"mdi-cart-plus",text:"åŠ å…¥è³¼ç‰©è»Š",variant:"tonal",onClick:te(w,["prevent"])})]),_:1})]),_:1}))}},Te=D(we,[["__scopeId","data-v-b1f50a8d"]]),Pe={class:"announcement-fab-container"},$e={class:"mb-4 text-h5 text-md-h4 font-weight-bold"},Ae={class:"text-secondary"},Le={class:"text-medium-emphasis mb-0"},q=9,z={__name:"shop",setup(i){const m=u({name:"æµªæµªç‹—ç‹—ä¹‹å®¶",description:"è‡´åŠ›æ–¼æ•‘æ´èˆ‡ç…§é¡§æµæµªå‹•ç‰©"}),l=u(!1),p=ae(),C=O(),{isLogin:w}=re(C),T=H(),P=u([]),_=L(()=>P.value.filter(s=>{const a=s.name.toLowerCase().includes($.value.toLowerCase()),e=x.value?s.category===x.value:!0;return a&&e}).sort((s,a)=>{const e=A[h.value];return e.key==="createdAt"||e.key==="updatedAt"?e.direction*(new Date(s[e.key])-new Date(a[e.key])):e.direction*(s[e.key]>a[e.key]?1:-1)})),f=u(1),W=L(()=>Math.ceil(_.value.length/q)),Y=L(()=>_.value.slice((f.value-1)*q,f.value*q)),$=u(""),x=u(""),Q=["è²“ç”¨","çŠ¬ç”¨"],h=u(0),A=[{text:"åç¨±",key:"name",direction:1},{text:"åƒ¹æ ¼ï¼šä½åˆ°é«˜",key:"price",direction:1},{text:"åƒ¹æ ¼ï¼šé«˜åˆ°ä½",key:"price",direction:-1},{text:"æœ€æ–°å•†å“",key:"createdAt",direction:-1},{text:"æœ€èˆŠå•†å“",key:"createdAt",direction:1}];(async()=>{try{const{data:s}=await ye.get();P.value=s.products}catch(s){console.error("Error fetching products:",s),p({text:"ç„¡æ³•è¼‰å…¥å•†å“è³‡æ–™",snackbarProps:{color:"red"}})}})();const X=async s=>{var a,e;if(!w.value){T.push("/auth");return}try{await ge.cart({product:s,quantity:1}),p({text:"å·²åŠ å…¥è³¼ç‰©è»Š",snackbarProps:{color:"success"}})}catch(v){p({text:((e=(a=v.response)==null?void 0:a.data)==null?void 0:e.message)||"åŠ å…¥è³¼ç‰©è»Šå¤±æ•—",snackbarProps:{color:"red"}})}};return R(()=>{window.scrollTo(0,0)}),(s,a)=>(d(),y(V,null,[t(ke,{"image-src":oe(_e),subtitle:"æ¯æœˆèˆ‡ä¸åŒå–®ä½åˆä½œæ‚¨ä¸‹çš„ä¸€ç­†è¨‚å–®èƒ½è®“æ¯›å­©å€‘å¤šä¸€ä»½æº«é£½",title:"å…¬ç›Šå•†åŸ"},null,8,["image-src"]),o("div",Pe,[a[8]||(a[8]=o("div",{class:"fab-tip"},"é»æ“ŠæŸ¥çœ‹æœ¬æœˆåˆä½œå–®ä½",-1)),t(S,{class:"announcement-fab",color:"#EDA35A",elevation:"8",icon:"mdi-bullhorn-outline",size:"x-large",onClick:a[0]||(a[0]=e=>l.value=!0)})]),t(se,{modelValue:l.value,"onUpdate:modelValue":a[2]||(a[2]=e=>l.value=e),"max-width":"800px"},{default:r(()=>[t(K,{class:"announcement-card-dialog"},{default:r(()=>[t(j,{class:"pa-8"},{default:r(()=>[t(b,{align:"center","no-gutters":"",justify:"center"},{default:r(()=>[t(g,{cols:"12",sm:"9"},{default:r(()=>[o("h2",$e,[a[9]||(a[9]=n("ğŸ’ æœ¬æœˆå•†å“å°‡æè´ˆçµ¦ ",-1)),o("strong",Ae,c(m.value.name),1)]),a[10]||(a[10]=o("p",{class:"text-body-1"},[n(" åœ¨æœ¬è³£å ´æ¶ˆè²»ä¹‹å•†å“éƒ½æœƒæè´ˆèˆ‡è©²æœˆåˆä½œå–®ä½ï¼Œæ¯æœˆåˆä½œå°è±¡ä»¥å…¬å‘Šå–®ä½ç‚ºæº–ã€‚"),o("br"),n(" é€™æ˜¯ä¸€å€‹è®“æ„›ä¸æµæµªçš„æ©Ÿæœƒã€‚æ‚¨çš„æ¯ä¸€ç­†æ¶ˆè²»ï¼Œéƒ½å°‡ç›´æ¥è½‰åŒ–ç‚ºæµªæµªå€‘çš„ä¼™é£Ÿã€é†«ç™‚èˆ‡æ£²èº«ä¹‹æ‰€ã€‚è®“ç‰ å€‘ä¸å†æ–¼è¡—é ­æµæµªï¼Œè€Œæ˜¯èƒ½æ“æœ‰ä¸€å€‹å……æ»¿æ„›èˆ‡å¸Œæœ›çš„å®¶ã€‚"),o("br"),n(" è®“æˆ‘å€‘ä¸€èµ·ï¼Œç”¨è¡Œå‹•ä¾†æ”¯æŒé€™äº›ç„¡åŠ©çš„ç”Ÿå‘½ã€‚æ‚¨çš„æ¶ˆè²»ï¼Œæ˜¯æµªæµªå€‘é‡ç²æ–°ç”Ÿçš„å¸Œæœ›ã€‚"),o("br"),n(" æ„Ÿè¬æ‚¨çš„æ¯ä¸€æ¬¡å–„èˆ‰ï¼Œè®“æ„›çš„åŠ›é‡ï¼Œåœ¨æˆ‘å€‘çš„ä¸–ç•Œè£¡å¾ªç’°ä¸æ¯ã€‚"),o("br")],-1)),o("p",Le,c(m.value.description),1)]),_:1,__:[10]})]),_:1})]),_:1}),t(G,{class:"pa-4"},{default:r(()=>[t(J),t(S,{color:"secondary",variant:"text",onClick:a[1]||(a[1]=e=>l.value=!1)},{default:r(()=>a[11]||(a[11]=[n(" æˆ‘çŸ¥é“äº† ",-1)])),_:1,__:[11]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(pe,{class:"my-8 custom-container"},{default:r(()=>[t(b,{align:"center",class:"mb-4"},{default:r(()=>[t(g,{cols:"12",md:"8"},{default:r(()=>[t(le,{modelValue:x.value,"onUpdate:modelValue":[a[3]||(a[3]=e=>x.value=e),a[4]||(a[4]=e=>f.value=1)],mandatory:"","selected-class":"text-secondary"},{default:r(()=>[t(E,{filter:"",value:"",variant:"outlined"},{default:r(()=>a[12]||(a[12]=[n(" å…¨éƒ¨ ",-1)])),_:1,__:[12]}),(d(),y(V,null,I(Q,e=>t(E,{key:e,filter:"",value:e,variant:"outlined"},{default:r(()=>[n(c(e),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),_:1}),t(g,{class:"d-flex align-center",cols:"12",md:"4"},{default:r(()=>[t(ne,{modelValue:$.value,"onUpdate:modelValue":[a[5]||(a[5]=e=>$.value=e),a[6]||(a[6]=e=>f.value=1)],class:"mr-2",clearable:"",density:"compact",flat:"","hide-details":"",placeholder:"æœå°‹å•†å“","prepend-inner-icon":"mdi-magnify",variant:"solo-filled"},null,8,["modelValue"]),t(ie,null,{activator:r(({props:e})=>[t(S,U(e,{icon:"mdi-sort",ripple:!1,variant:"text"}),null,16),n(" "+c(A[h.value].text),1)]),default:r(()=>[t(ce,null,{default:r(()=>[(d(),y(V,null,I(A,(e,v)=>t(de,{key:e.text,active:h.value===v,onClick:qe=>{h.value=v,f.value=1}},{default:r(()=>[t(ue,null,{default:r(()=>[n(c(e.text),1)]),_:2},1024)]),_:2},1032,["active","onClick"])),64))]),_:1})]),_:1})]),_:1})]),_:1}),t(F,{class:"mb-8"}),_.value.length>0?(d(),k(b,{key:0},{default:r(()=>[(d(!0),y(V,null,I(Y.value,e=>(d(),k(g,{key:e._id,cols:"12",lg:"4",md:"6"},{default:r(()=>[t(Te,U({ref_for:!0},e,{onAddToCart:v=>X(e._id)}),null,16,["onAddToCart"])]),_:2},1024))),128)),t(g,{cols:"12"},{default:r(()=>[t(me,{modelValue:f.value,"onUpdate:modelValue":a[7]||(a[7]=e=>f.value=e),circle:"",length:W.value,"total-visible":5},null,8,["modelValue","length"])]),_:1})]),_:1})):(d(),k(b,{key:1},{default:r(()=>[t(g,{cols:"12"},{default:r(()=>[t(fe,{headline:"å™¢ï¼æ‰¾ä¸åˆ°å•†å“",icon:"mdi-magnify-remove-outline",text:"è©¦è©¦çœ‹æ›´æ›ç¯©é¸æ¢ä»¶æˆ–é—œéµå­—å§ï¼",title:"ç„¡ç¬¦åˆæ¢ä»¶çš„å•†å“"})]),_:1})]),_:1}))]),_:1})],64))}};typeof M=="function"&&M(z);const Re=D(z,[["__scopeId","data-v-b5a5df4e"]]);export{Re as default};
