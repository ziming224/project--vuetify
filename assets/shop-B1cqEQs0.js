import{j as i,m as E,c as w,o as u,a as e,w as o,E as r,K as m,Y as I,A as L,u as B,v,a0 as W,aH as Y,H as d,a4 as R,g as U,a8 as N,I as H,J as C,a3 as Q,T as M,y as X,av as Z,k as S,f as ee,R as k,S as _,a9 as te,F as $,h as ae,aI as oe,aJ as re,aK as se,D as ne,P as ce}from"./index-DK2avGV5.js";import{g as q,S as ie}from"./ScrollTrigger-CUwdeFQJ.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{p as le}from"./product-x77JkjT4.js";import{b as D}from"./route-block-B_A1xBdJ.js";const de=""+new URL("dog-face-BvL0_U8h.jpg",import.meta.url).href,ue={class:"hero-text"},me={class:"text-h2 font-weight-bold"},pe={class:"text-h5 font-weight-bold"},ge={__name:"HeroSection",props:{imageSrc:{type:String,required:!0},title:{type:String,default:"å…¬ç›Šå•†åŸ"},subtitle:{type:String,default:"æ¯æœˆèˆ‡ä¸åŒå–®ä½åˆä½œæ‚¨ä¸‹çš„ä¸€ç­†è¨‚å–®èƒ½è®“æ¯›å­©å€‘å¤šä¸€ä»½æº«é£½"}},setup(c){const l=i(null);return E(()=>{q.registerPlugin(ie);const n=l.value;q.fromTo(n,{scale:1,y:0},{scale:.5,y:-200,transformOrigin:"top center",scrollTrigger:{trigger:n,start:"top top",end:"bottom top",scrub:!0,pin:!0,pinSpacing:!1}})}),(n,p)=>(u(),w("div",{ref_key:"heroSection",ref:l,class:"hero-section"},[e(I,{class:"hero-img",cover:"",src:c.imageSrc},{default:o(()=>[r("div",ue,[r("h1",me,m(c.title),1),r("p",pe,m(c.subtitle),1)])]),_:1},8,["src"])],512))}},fe=P(ge,[["__scopeId","data-v-a1cca34e"]]),_e={class:"text-h6 font-weight-bold text-secondary my-2"},ve={class:"text-body-2 product-description"},ye={__name:"ProductCard",props:{_id:{type:String,required:!0},image:{type:String,required:!0},name:{type:String,required:!0},category:{type:String,required:!0},price:{type:Number,required:!0},description:{type:String,required:!0}},emits:["add-to-cart"],setup(c,{emit:l}){const n=c,p=l,y=L();B();const h=()=>{p("add-to-cart",n._id)},x=()=>{y.push("/product/"+n._id)};return(b,g)=>(u(),v(M,{class:"d-flex flex-column product-card",height:"100%",hover:"",name:"",onClick:x},{default:o(()=>[e(I,{class:"text-white align-end",cover:"",height:"450",src:c.image},{default:o(()=>[e(W,{color:"rgba(0, 0, 0, 0.4)",theme:"dark"},{default:o(()=>[e(Y,{class:"text-body-1 font-weight-bold"},{default:o(()=>[d(m(c.name),1)]),_:1})]),_:1})]),_:1},8,["src"]),e(R,{class:"pt-4 flex-grow-1"},{default:o(()=>[r("div",_e," NT$ "+m(c.price.toLocaleString()),1),r("div",ve,m(c.description),1)]),_:1}),e(U),e(N,{class:"pa-3"},{default:o(()=>[e(H),e(C,{color:"secondary","prepend-icon":"mdi-cart-plus",text:"åŠ å…¥è³¼ç‰©è»Š",variant:"tonal",onClick:Q(h,["prevent"])})]),_:1})]),_:1}))}},he=P(ye,[["__scopeId","data-v-b1f50a8d"]]),xe={class:"announcement-fab-container"},be={class:"mb-4 text-h5 text-md-h4 font-weight-bold"},Se={class:"text-secondary"},ke={class:"text-medium-emphasis mb-0"},V=9,j={__name:"shop",setup(c){const l=i({name:"æµªæµªç‹—ç‹—ä¹‹å®¶",description:"è‡´åŠ›æ–¼æ•‘æ´èˆ‡ç…§é¡§æµæµªå‹•ç‰©"}),n=i(!1),p=X(),y=B(),{isLogin:h}=Z(y),x=L(),b=i([]),g=S(()=>b.value.filter(s=>{const t=s.name.toLowerCase().includes(J.value.toLowerCase()),a=T.value?s.category===T.value:!0;return t&&a}).sort((s,t)=>{const a=z[K.value];return a.key==="createdAt"||a.key==="updatedAt"?a.direction*(new Date(s[a.key])-new Date(t[a.key])):a.direction*(s[a.key]>t[a.key]?1:-1)})),f=i(1),O=S(()=>Math.ceil(g.value.length/V)),F=S(()=>g.value.slice((f.value-1)*V,f.value*V)),J=i(""),T=i(""),K=i(0),z=[{text:"åç¨±",key:"name",direction:1},{text:"åƒ¹æ ¼ï¼šä½åˆ°é«˜",key:"price",direction:1},{text:"åƒ¹æ ¼ï¼šé«˜åˆ°ä½",key:"price",direction:-1},{text:"æœ€æ–°å•†å“",key:"createdAt",direction:-1},{text:"æœ€èˆŠå•†å“",key:"createdAt",direction:1}];(async()=>{try{const{data:s}=await le.get();b.value=s.products}catch(s){console.error("Error fetching products:",s),p({text:"ç„¡æ³•è¼‰å…¥å•†å“è³‡æ–™",snackbarProps:{color:"red"}})}})();const G=async s=>{var t,a;if(!h.value){x.push("/auth");return}try{await ce.cart({product:s,quantity:1}),p({text:"å·²åŠ å…¥è³¼ç‰©è»Š",snackbarProps:{color:"success"}})}catch(A){p({text:((a=(t=A.response)==null?void 0:t.data)==null?void 0:a.message)||"åŠ å…¥è³¼ç‰©è»Šå¤±æ•—",snackbarProps:{color:"red"}})}};return E(()=>{window.scrollTo(0,0)}),(s,t)=>(u(),w($,null,[e(fe,{"image-src":ee(de),subtitle:"æ¯æœˆèˆ‡ä¸åŒå–®ä½åˆä½œæ‚¨ä¸‹çš„ä¸€ç­†è¨‚å–®èƒ½è®“æ¯›å­©å€‘å¤šä¸€ä»½æº«é£½",title:"å…¬ç›Šå•†åŸ"},null,8,["image-src"]),r("div",xe,[t[4]||(t[4]=r("div",{class:"fab-tip"},"é»æ“ŠæŸ¥çœ‹æœ¬æœˆåˆä½œå–®ä½",-1)),e(C,{class:"announcement-fab",color:"#EDA35A",elevation:"8",icon:"mdi-bullhorn-outline",size:"x-large",onClick:t[0]||(t[0]=a=>n.value=!0)})]),e(te,{modelValue:n.value,"onUpdate:modelValue":t[2]||(t[2]=a=>n.value=a),"max-width":"800px"},{default:o(()=>[e(M,{class:"announcement-card-dialog"},{default:o(()=>[e(R,{class:"pa-8"},{default:o(()=>[e(k,{align:"center","no-gutters":"",justify:"center"},{default:o(()=>[e(_,{cols:"12",sm:"9"},{default:o(()=>[r("h2",be,[t[5]||(t[5]=d("ğŸ’ æœ¬æœˆå•†å“å°‡æè´ˆçµ¦ ",-1)),r("strong",Se,m(l.value.name),1)]),t[6]||(t[6]=r("p",{class:"text-body-1"},[d(" åœ¨æœ¬è³£å ´æ¶ˆè²»ä¹‹å•†å“éƒ½æœƒæè´ˆèˆ‡è©²æœˆåˆä½œå–®ä½ï¼Œæ¯æœˆåˆä½œå°è±¡ä»¥å…¬å‘Šå–®ä½ç‚ºæº–ã€‚"),r("br"),d(" é€™æ˜¯ä¸€å€‹è®“æ„›ä¸æµæµªçš„æ©Ÿæœƒã€‚æ‚¨çš„æ¯ä¸€ç­†æ¶ˆè²»ï¼Œéƒ½å°‡ç›´æ¥è½‰åŒ–ç‚ºæµªæµªå€‘çš„ä¼™é£Ÿã€é†«ç™‚èˆ‡æ£²èº«ä¹‹æ‰€ã€‚è®“ç‰ å€‘ä¸å†æ–¼è¡—é ­æµæµªï¼Œè€Œæ˜¯èƒ½æ“æœ‰ä¸€å€‹å……æ»¿æ„›èˆ‡å¸Œæœ›çš„å®¶ã€‚"),r("br"),d(" è®“æˆ‘å€‘ä¸€èµ·ï¼Œç”¨è¡Œå‹•ä¾†æ”¯æŒé€™äº›ç„¡åŠ©çš„ç”Ÿå‘½ã€‚æ‚¨çš„æ¶ˆè²»ï¼Œæ˜¯æµªæµªå€‘é‡ç²æ–°ç”Ÿçš„å¸Œæœ›ã€‚"),r("br"),d(" æ„Ÿè¬æ‚¨çš„æ¯ä¸€æ¬¡å–„èˆ‰ï¼Œè®“æ„›çš„åŠ›é‡ï¼Œåœ¨æˆ‘å€‘çš„ä¸–ç•Œè£¡å¾ªç’°ä¸æ¯ã€‚"),r("br")],-1)),r("p",ke,m(l.value.description),1)]),_:1,__:[6]})]),_:1})]),_:1}),e(N,{class:"pa-4"},{default:o(()=>[e(H),e(C,{color:"secondary",variant:"text",onClick:t[1]||(t[1]=a=>n.value=!1)},{default:o(()=>t[7]||(t[7]=[d(" æˆ‘çŸ¥é“äº† ",-1)])),_:1,__:[7]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(ne,{class:"my-8 custom-container"},{default:o(()=>[e(U,{class:"mb-8"}),g.value.length>0?(u(),v(k,{key:0},{default:o(()=>[(u(!0),w($,null,ae(F.value,a=>(u(),v(_,{key:a._id,cols:"12",lg:"4",md:"6"},{default:o(()=>[e(he,oe({ref_for:!0},a,{onAddToCart:A=>G(a._id)}),null,16,["onAddToCart"])]),_:2},1024))),128)),e(_,{cols:"12"},{default:o(()=>[e(re,{modelValue:f.value,"onUpdate:modelValue":t[3]||(t[3]=a=>f.value=a),circle:"",length:O.value,"total-visible":5},null,8,["modelValue","length"])]),_:1})]),_:1})):(u(),v(k,{key:1},{default:o(()=>[e(_,{cols:"12"},{default:o(()=>[e(se,{headline:"å™¢ï¼æ‰¾ä¸åˆ°å•†å“",icon:"mdi-magnify-remove-outline",text:"è©¦è©¦çœ‹æ›´æ›ç¯©é¸æ¢ä»¶æˆ–é—œéµå­—å§ï¼",title:"ç„¡ç¬¦åˆæ¢ä»¶çš„å•†å“"})]),_:1})]),_:1}))]),_:1})],64))}};typeof D=="function"&&D(j);const $e=P(j,[["__scopeId","data-v-5886b6b9"]]);export{$e as default};
